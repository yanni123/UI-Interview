{"version":3,"sources":["../../../.tmp/datepicker2/common/bs-date-picker-base.class.ts"],"names":[],"mappings":"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","file":"bs-date-picker-base.class.js","sourceRoot":"","sourcesContent":["import { BsDatePickerState } from './bs-date-picker-state.provider';\nimport { BsDatePickerViewMode, BsDatePickerOptions, DatePickerViewModes } from './bs-date-picker-options.provider';\nimport * as moment from 'moment';\n\nimport { OnInit, OnDestroy } from '@angular/core';\nimport { DatePickerDate } from './date-picker-date.class';\nimport { Subscription } from 'rxjs/Subscription';\n\nexport type Granularity = 'day' | 'month' | 'year';\n\nexport abstract class DatePickerBase implements OnInit, OnDestroy {\n  public options: BsDatePickerOptions;\n  protected datePickerState: BsDatePickerState;\n\n  protected calendar: DatePickerDate[][];\n\n  protected subscriptions: Subscription[] = [];\n\n  public constructor(datePickerState: BsDatePickerState, options: BsDatePickerOptions) {\n    this.datePickerState = datePickerState;\n    this.options = options;\n\n    if (!datePickerState.viewDate) {\n      datePickerState.viewDate = moment();\n    }\n\n    this.refresh(datePickerState.viewDate);\n\n    this.subscriptions.push(options.onUpdate.subscribe(() => {\n      this.refresh(datePickerState.viewDate);\n    }));\n    this.subscriptions.push(datePickerState.viewDateChange.subscribe((v: any) => {\n      this.refresh(datePickerState.viewDate);\n    }));\n    this.subscriptions.push(datePickerState.activeDateChange.subscribe((v: any) => {\n      this.markActive();\n    }));\n    this.subscriptions.push(datePickerState.selectedDateChange.subscribe((v: any) => {\n      this.markSelected();\n    }));\n    this.subscriptions.push(datePickerState.selectedEndDateChange.subscribe((v: any) => {\n      this.markSelected();\n      this.markActive();\n    }));\n  }\n\n  public ngOnInit(): void {\n    if (this.options.date) {\n      const selected = this.datePickerState.selectedDate || this.options.date.selected;\n      const selectedEnd = this.datePickerState.selectedEndDate || this.options.date.selectedEnd;\n      this.datePickerState.viewDate = this.datePickerState.viewDate || moment(this.options.date.initial);\n      this.datePickerState.selectedDate = selected ? moment(selected) : void 0;\n      this.datePickerState.selectedEndDate = selectedEnd ? moment(selectedEnd) : void 0;\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.subscriptions.forEach((sub: Subscription) => sub.unsubscribe());\n  }\n\n  public abstract refresh(date: any): void;\n\n  public viewPrev(unitOfTime: 'days' | 'months' | 'years', step: number = 1): void {\n    this.datePickerState.viewDate = this.datePickerState.viewDate.clone().subtract(step, unitOfTime);\n  }\n\n  public viewNext(unitOfTime: 'days' | 'months' | 'years', step: number = 1): void {\n    this.datePickerState.viewDate = this.datePickerState.viewDate.clone().add(step, unitOfTime);\n  }\n\n  /**\n   * Selects new view mode\n   * do nothing if mode <> min/max modes\n   */\n  public viewMode(mode: BsDatePickerViewMode): void {\n    if (DatePickerViewModes[mode] >= DatePickerViewModes[this.options.ui.minMode] &&\n      DatePickerViewModes[mode] <= DatePickerViewModes[this.options.ui.maxMode]) {\n      this.options.viewMode = mode;\n    }\n  }\n\n  public viewDate(date: moment.Moment, _opts: {degrade: boolean}): void {\n    const opts = Object.assign({}, {degrade: false}, _opts);\n    this.datePickerState.viewDate = date;\n\n    // fixme: triple if, oh really?\n    if (this.options.viewMode && opts.degrade) {\n      if (this.options.viewMode === 'years') {\n        if (DatePickerViewModes.months >= DatePickerViewModes[this.options.ui.minMode]) {\n          this.options.viewMode = 'months';\n        } else {\n          this.selectDate(date);\n        }\n      } else if (this.options.viewMode === 'months') {\n        if (DatePickerViewModes.days >= DatePickerViewModes[this.options.ui.minMode]) {\n          this.options.viewMode = 'days';\n        } else {\n          this.selectDate(date);\n        }\n      }\n    }\n  }\n\n  public activeDate(date: moment.Moment): void {\n    if (date && this.isDisabled(date)) {\n      return;\n    }\n\n    // todo: add range check\n\n    this.datePickerState.activeDate = date;\n  }\n\n  public selectDate(date: moment.Moment): void {\n    if (this.isDisabled(date)) {\n      return;\n    }\n\n    if (this.options.isDatePicker) {\n      // select date\n      this.datePickerState.selectedDate = date;\n      this.datePickerState.selectedEndDate = void 0;\n      return;\n    }\n\n    if (this.options.isDateRangePicker) {\n      // if no selected then set start date\n      if (!this.datePickerState.selectedDate) {\n        this.datePickerState.selectedDate = date;\n        return;\n      }\n\n      // if end date lesser then the start date\n      if (moment(date).isBefore(this.datePickerState.selectedDate, this.viewGranularity)) {\n        this.datePickerState.selectedDate = date;\n        this.datePickerState.selectedEndDate = void 0;\n        return;\n      }\n\n      // allow to select one date at range picker\n      if (moment(date).isSame(this.datePickerState.selectedDate, this.viewGranularity)) {\n        this.datePickerState.selectedEndDate = date;\n        return;\n      }\n\n      // select new range start\n      if (this.datePickerState.selectedEndDate) {\n        this.datePickerState.selectedDate = date;\n        this.datePickerState.selectedEndDate = void 0;\n        return;\n      }\n\n      // don't allow to select range with disabled dates in the middle\n      if (this.isDisabledDateInRange(date)) {\n        return;\n      }\n\n      // if start date is selected than select end date\n      if (this.isSame(this.datePickerState.selectedDate, date)) {\n        this.datePickerState.selectedDate = date;\n        this.datePickerState.selectedEndDate = void 0;\n        return;\n      }\n\n      this.datePickerState.selectedEndDate = date;\n    }\n  }\n\n  public resetSelection(): void {\n    this.datePickerState.selectedDate = void 0;\n    this.datePickerState.selectedEndDate = void 0;\n  }\n\n  public isSelected(date: moment.Moment): boolean {\n    if (!date) {\n      return false;\n    }\n\n    if (this.options.isDatePicker) {\n      return this.isSame(this.datePickerState.selectedDate, date);\n    }\n\n    return this.isSame(this.datePickerState.selectedDate, date) ||\n      this.isSame(this.datePickerState.selectedEndDate, date);\n  }\n\n  public isActive(currDate: moment.Moment): boolean {\n    if (this.options.isDatePicker) {\n      return false;\n    }\n\n    const selectedDate = this.datePickerState.selectedDate;\n    const selectedEndDate = this.datePickerState.selectedEndDate;\n    const activeDate = this.datePickerState.activeDate;\n\n    if (!selectedDate || !currDate) {\n      return false;\n    }\n\n    if (selectedDate && !activeDate && !selectedEndDate) {\n      return false;\n    }\n\n    if (selectedEndDate) {\n      // fixme: makes sense only for day selection\n      if (this.isDisabledDateInRange(selectedEndDate)) {\n        return false;\n      }\n      return moment(currDate).isAfter(selectedDate, this.viewGranularity) &&\n        moment(currDate).isBefore(selectedEndDate, this.viewGranularity);\n    }\n\n    if (this.isDisabledDateInRange(activeDate)) {\n      return false;\n    }\n    return moment(currDate).isAfter(selectedDate, this.viewGranularity) &&\n      moment(currDate).isBefore(activeDate, this.viewGranularity);\n  }\n\n  public isDisabled(date: moment.Moment, granularity: Granularity = 'day'): boolean {\n    if (!date) {\n      return true;\n    }\n\n    const minDate = this.options.date && this.options.date.min;\n    const maxDate = this.options.date && this.options.date.max;\n\n    if (minDate && moment(date).isSameOrBefore(minDate, granularity)) {\n      return true;\n    }\n\n    if (maxDate && moment(date).isSameOrAfter(maxDate, granularity)) {\n      return true;\n    }\n\n    const customDates = this.options.customDates;\n    if (customDates) {\n      for (let i = 0; i < customDates.length; i++) {\n        if (customDates[i].isDisabled && this.isSame(customDates[i].date, date)) {\n          return true;\n        }\n      }\n    }\n\n    // todo: check dates options\n    return false;\n  }\n\n  public isSelectionStart(date: moment.Moment): boolean {\n    if (!this.options.isDateRangePicker) {\n      return false;\n    }\n    return this.isSame(date, this.datePickerState.selectedDate);\n  }\n\n  public isSelectionEnd(date: moment.Moment): boolean {\n    if (!this.options.isDateRangePicker) {\n      return false;\n    }\n    return this.isSame(date, this.datePickerState.selectedEndDate);\n  }\n\n  public isOtherMonth(date: moment.Moment, viewDate: moment.Moment): boolean {\n    return !moment(date).isSame(viewDate, 'month');\n  }\n\n  public isHighlighted(date: moment.Moment): boolean {\n    if (this.isDisabledDateInRange(date)) {\n      return false;\n    }\n\n    if (!this.datePickerState.activeDate || !date) {\n      return false;\n    }\n\n    return moment(date).isSame(this.datePickerState.activeDate, this.viewGranularity);\n  }\n\n  public isDisabledDateInRange(date: moment.Moment): boolean {\n    if (!this.options.isDateRangePicker) {\n      return false;\n    }\n\n    const customDates = this.options.customDates;\n    if (customDates) {\n      for (let i = 0; i < customDates.length; i++) {\n        if (customDates[i].isDisabled &&\n          moment(customDates[i].date).isSameOrAfter(this.datePickerState.selectedDate, this.viewGranularity) &&\n          moment(customDates[i].date).isSameOrBefore(date, this.viewGranularity)) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  public markActive(): void {\n    if (!this.calendar || !this.calendar.length) {\n      return;\n    }\n    // mark proper dates as active\n    for (let i = 0; i < this.calendar.length; i++) {\n      for (let j = 0; j < this.calendar[i].length; j++) {\n        if (this.calendar[i][j].isSelected) {\n          continue;\n        }\n        if (this.calendar[i][j].isDisabled) {\n          continue;\n        }\n        this.calendar[i][j].isActive = this.isActive(this.calendar[i][j].date);\n        this.calendar[i][j].isHighlighted = this.isHighlighted(this.calendar[i][j].date);\n      }\n    }\n  }\n\n  public markSelected(): void {\n    if (!this.calendar || !this.calendar.length) {\n      return;\n    }\n    // mark proper dates as selected\n    for (let i = 0; i < this.calendar.length; i++) {\n      for (let j = 0; j < this.calendar[i].length; j++) {\n        const isSelected = this.isSelected(this.calendar[i][j].date);\n        this.calendar[i][j].isSelected = isSelected;\n        this.calendar[i][j].isSelectionStart = this.isSelectionStart(this.calendar[i][j].date);\n        this.calendar[i][j].isSelectionEnd = this.isSelectionEnd(this.calendar[i][j].date);\n        if (isSelected) {\n          this.calendar[i][j].isActive = false;\n          this.calendar[i][j].isHighlighted = false;\n        }\n      }\n    }\n  }\n\n  public getDaysCalendarMatrix(viewDate: moment.Moment): any {\n    //\n    // Build the matrix of dates that will populate the calendar\n    //\n    // current date\n    const month = viewDate.month();\n    const year = viewDate.year();\n    // const date = viewDate.date();\n    const hour = viewDate.hour();\n    const minute = viewDate.minute();\n    const second = viewDate.second();\n    // month range\n    const firstDay = moment([year, month, 1]);\n    // prev\n    const lastMonth = moment(firstDay).subtract(1, 'month').month();\n    const lastYear = moment(firstDay).subtract(1, 'month').year();\n\n    // initialize a 6 rows x 7 columns array for the calendar\n    const calendarW = this.options.ui.dayColums;\n    const calendarH = this.options.ui.dayRows;\n    const calendar = new Array(calendarW);\n\n    for (let j = 0; j < calendarW; j++) {\n      calendar[j] = new Array(calendarH);\n    }\n\n    const startDay = this.getStartingDay(viewDate).date();\n    // fixme: take in account time picker\n    let curDate = moment([lastYear, lastMonth, startDay, 12, minute, second]);\n    // where the f*** 42 came from\n    for (let [i, col, row] = [0, 0, 0]; i < calendarH * calendarW; i++, col++, curDate = moment(curDate)\n      .add(24, 'hour')) {\n      if (i > 0 && col % 7 === 0) {\n        col = 0;\n        row++;\n      }\n\n      calendar[row][col] = {\n        date: curDate.clone().hour(hour).minute(minute).second(second),\n        label: curDate.format(this.options.format.day),\n        isActive: this.isActive(curDate),\n        isSelected: this.isSelected(curDate),\n        isDisabled: this.isDisabled(curDate),\n        isSelectionStart: this.isSelectionStart(curDate),\n        isSelectionEnd: this.isSelectionEnd(curDate),\n        isOtherMonth: this.isOtherMonth(curDate, viewDate),\n        isHighlighted: this.isHighlighted(curDate)\n      };\n      curDate.hour(12);\n    }\n\n    return calendar;\n  }\n\n  public getMonthsCalendarMatrix(viewDate: moment.Moment/*, options:any*/): any {\n    const w = 3;\n    const h = 4;\n    let months = new Array(h);\n    for (let row = 0; row < h; row++) {\n      months[row] = new Array(w);\n      for (let coll = 0; coll < w; coll++) {\n        const monthNum = row * w + coll;\n        const date = moment([viewDate.year(), monthNum, 1]);\n        months[row][coll] = {\n          date: date,\n          label: date.format(this.options.format.month),\n          isActive: this.isActive(date),\n          isSelected: this.isSelected(date),\n          isDisabled: this.isDisabled(date),\n          isSelectionStart: this.isSelectionStart(date),\n          isSelectionEnd: this.isSelectionEnd(date),\n          isHighlighted: this.isHighlighted(date)\n        };\n      }\n    }\n    return months;\n  }\n\n  public getYearsCalendarMatrix(viewDate: moment.Moment/*, options:any*/): any {\n    let year = this.getStartingYear(viewDate.year());\n    const cols = this.options.ui.yearColumns;\n    const rows = this.options.ui.yearRows;\n    let yearsMatrix = new Array(rows);\n    for (let row = 0; row < rows; row++) {\n      yearsMatrix[row] = new Array(cols);\n      for (let coll = 0; coll < cols; coll++, year++) {\n        const date = moment([year, viewDate.month()]);\n        yearsMatrix[row][coll] = {\n          date: date,\n          label: date.format(this.options.format.year),\n          isActive: this.isActive(date),\n          isSelected: this.isSelected(date),\n          isDisabled: this.isDisabled(date),\n          isSelectionStart: this.isSelectionStart(date),\n          isSelectionEnd: this.isSelectionEnd(date),\n          isHighlighted: this.isHighlighted(date)\n        };\n      }\n    }\n    return yearsMatrix;\n  }\n\n  public getWeeksNumbers(calendar: DatePickerDate[][]): number[] {\n    const weekFormat = this.options.ui.showISOWeekNumbers ? 'WW' : 'ww';\n    return calendar.map(row => parseInt(moment(row[0].date).format(weekFormat), 10));\n  }\n\n  public getLocale(): any {\n    const localeData = moment.localeData();\n    return {\n      direction: 'ltr',\n      format: localeData.longDateFormat('L'),\n      separator: ' - ',\n      applyLabel: 'Apply',\n      cancelLabel: 'Cancel',\n      weekLabel: 'W',\n      customRangeLabel: 'Custom Range',\n      weekdays: moment.weekdays(true),\n      weekdaysShort: moment.weekdaysMin(true),\n      monthNames: moment.monthsShort(),\n      firstDay: (localeData as any).firstDayOfWeek()\n    };\n  }\n\n  public getStartingDay(viewDate: moment.Moment): moment.Moment {\n    const locale = this.getLocale();\n    const month = viewDate.month();\n    const year = viewDate.year();\n    const firstDay = moment([year, month, 1]);\n    // prev\n    const lastMonth = moment(firstDay).subtract(1, 'month').month();\n    const lastYear = moment(firstDay).subtract(1, 'month').year();\n\n    const daysInLastMonth = moment([lastYear, lastMonth]).daysInMonth();\n    const dayOfWeek = firstDay.day();\n    // populate the calendar with date objects\n    let startDay = daysInLastMonth - dayOfWeek + locale.firstDay + 1;\n    if (startDay > daysInLastMonth) {\n      startDay -= 7;\n    }\n\n    if (dayOfWeek === locale.firstDay) {\n      startDay = daysInLastMonth - 6;\n    }\n\n    return moment([year, lastMonth, startDay]);\n  }\n\n  public getStartingYear(year: number): number {\n    const yearsStep = this.options.ui.yearColumns * this.options.ui.yearRows;\n    // return ((year - 1) / this.yearsStep) * this.yearsStep + 1;\n    return year - year % yearsStep;\n  }\n\n  public isSame(date1: moment.Moment, date2: moment.Moment): boolean {\n    if (!date1 || !date2) {\n      return false;\n    }\n\n    return moment(date1).isSame(date2, this.viewGranularity);\n  }\n\n  public get viewGranularity(): moment.unitOfTime.Base {\n    switch (this.options.viewMode) {\n      case 'days':\n        return 'day';\n      case 'months':\n        return 'month';\n      case 'years':\n        return 'years';\n      default:\n        throw new Error('Unexpected view mode');\n    }\n  }\n}\n"]}