{"version":3,"sources":["../../../.tmp/datepicker2/time/bs-date-time-picker.component.ts"],"names":[],"mappings":"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","file":"bs-date-time-picker.component.js","sourceRoot":"","sourcesContent":["import { Component, EventEmitter, ChangeDetectionStrategy } from '@angular/core';\nimport { DatePickerBase } from '../common/bs-date-picker-base.class';\nimport { BsDatePickerState } from '../common/bs-date-picker-state.provider';\nimport { BsDatePickerOptions } from '../common/bs-date-picker-options.provider';\n\nimport * as moment from 'moment';\nimport { OnChange } from '../../utils/decorators';\n\n\nexport class BsDateTimePickerComponent extends DatePickerBase {\n  @OnChange() public date: moment.Moment;\n  public dateChange: EventEmitter<moment.Moment> = new EventEmitter(true);\n\n  public hours: string;\n  public minutes: string;\n  public ampm: string;\n  public showAmPm: boolean = true;\n\n  public constructor(datePickerService: BsDatePickerState, options: BsDatePickerOptions) {\n    super(datePickerService, options);\n    this.subscriptions.push(this.dateChange.subscribe((date: moment.Moment) => {\n      if (!this.datePickerState.viewDate.isSame(date)) {\n        this.datePickerState.viewDate = date;\n        this.refresh();\n      }\n    }));\n  }\n\n  public refresh(): void {\n    if (!this.datePickerState.viewDate || !this.dateChange) {\n      return;\n    }\n    this.date = this.datePickerState.viewDate;\n\n    const mins = this.date.minutes();\n    const roundMins = mins - (mins % this.options.timepicker.minutesInc);\n    this.date.minutes(roundMins);\n    this.minutes = this.date.format('mm');\n    this.hours = this.options.timepicker.showAmPm ?\n      this.date.format('hh') : this.date.format('HH');\n    this.ampm = this.date.format('a');\n    this.showAmPm = this.options.timepicker.showAmPm;\n  }\n\n  public add(granularity: string): void {\n    if (granularity === 'minutes') {\n      this.date = this.date.clone().add(this.options.timepicker.minutesInc, granularity as moment.unitOfTime.Base);\n      return;\n    }\n    if (granularity === 'hours') {\n      this.date = this.date.clone().add(this.options.timepicker.hoursInc, granularity as moment.unitOfTime.Base);\n    }\n  }\n\n  public subtract(granularity: string): void {\n    if (granularity === 'minutes') {\n      this.date = this.date.clone().subtract(this.options.timepicker.minutesInc, granularity as moment.unitOfTime.Base);\n      return;\n    }\n    if (granularity === 'hours') {\n      this.date = this.date.clone().subtract(this.options.timepicker.hoursInc, granularity as moment.unitOfTime.Base);\n    }\n  }\n\n  public setTime(date: moment.Moment): moment.Moment {\n    return date;\n  }\n\n  public toggleMeridiem(): void {\n    if (moment.localeData().isPM(this.date.format('a'))) {\n      this.date = this.date.clone().add(12, 'hours');\n      return;\n    }\n    this.date = this.date.clone().subtract(12, 'hours');\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'bs-datetimepicker',\n  exportAs: 'bs-datetimepicker',\n  template:`\n<div class=\"bs-timepicker-container\">\n  <div class=\"bs-timepicker-controls\">\n    <button class=\"bs-decrease\" (click)=\"subtract('hours')\">-</button>\n    <input type=\"text\" value=\"{{hours}}\" placeholder=\"00\">\n    <button class=\"bs-increase\" (click)=\"add('hours')\">+</button>\n  </div>\n  <div class=\"bs-timepicker-controls\">\n    <button class=\"bs-decrease\" (click)=\"subtract('minutes')\">-</button>\n    <input type=\"text\" value=\"{{minutes}}\" placeholder=\"00\">\n    <button class=\"bs-increase\" (click)=\"add('minutes')\">+</button>\n  </div>\n  <button *ngIf=\"showAmPm\" (click)=\"toggleMeridiem()\" class=\"switch-time-format\">{{ampm}}\n    <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg==\" alt=\"\">\n  </button>\n</div>\n`,\n  changeDetection: ChangeDetectionStrategy.OnPush\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: BsDatePickerState, },\n{type: BsDatePickerOptions, },\n];\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}