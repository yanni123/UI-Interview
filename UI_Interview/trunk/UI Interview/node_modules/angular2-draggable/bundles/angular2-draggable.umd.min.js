!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@angular/core")):"function"==typeof define&&define.amd?define(["@angular/core"],t):"object"==typeof exports?exports["angular2-draggable.umd.min"]=t(require("@angular/core")):e["angular2-draggable.umd.min"]=t(e["@angular/core"])}(this,function(e){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=2)}([function(e,t,n){"use strict";var i=n(1);n.n(i);n.d(t,"a",function(){return l});var o=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e,t){this.x=e,this.y=t}return e}(),l=function(){function e(e,t){this.el=e,this.renderer=t,this.allowDrag=!0,this.moving=!1,this.orignal=null,this.oldTrans=new s(0,0),this.tempTrans=new s(0,0),this.oldZIndex="",this.oldPosition="",this.started=new i.EventEmitter,this.stopped=new i.EventEmitter}return Object.defineProperty(e.prototype,"ngDraggable",{set:function(e){if(void 0!==e&&null!==e&&""!==e){this.allowDrag=!!e;var t=this.handle?this.handle:this.el.nativeElement;this.allowDrag?this.renderer.setElementClass(t,"ng-draggable",!0):this.renderer.setElementClass(t,"ng-draggable",!1)}},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){if(this.allowDrag){var e=this.handle?this.handle:this.el.nativeElement;this.renderer.setElementClass(e,"ng-draggable",!0)}},e.prototype.getPosition=function(e,t){return new s(e,t)},e.prototype.moveTo=function(e,t){if(this.orignal){this.tempTrans.x=e-this.orignal.x,this.tempTrans.y=t-this.orignal.y;var n="translate("+(this.tempTrans.x+this.oldTrans.x)+"px, "+(this.tempTrans.y+this.oldTrans.y)+"px)";this.renderer.setElementStyle(this.el.nativeElement,"transform",n),this.renderer.setElementStyle(this.el.nativeElement,"-webkit-transform",n),this.renderer.setElementStyle(this.el.nativeElement,"-ms-transform",n),this.renderer.setElementStyle(this.el.nativeElement,"-moz-transform",n),this.renderer.setElementStyle(this.el.nativeElement,"-o-transform",n)}},e.prototype.pickUp=function(){this.oldZIndex=this.el.nativeElement.style.zIndex?this.el.nativeElement.style.zIndex:"",this.oldPosition=this.el.nativeElement.style.position?this.el.nativeElement.style.position:"",window&&(this.oldZIndex=window.getComputedStyle(this.el.nativeElement,null).getPropertyValue("z-index"),this.oldPosition=window.getComputedStyle(this.el.nativeElement,null).getPropertyValue("position"));var e="relative";!this.oldPosition||"absolute"!==this.oldPosition&&"fixed"!==this.oldPosition&&"relative"!==this.oldPosition||(e=this.oldPosition),this.renderer.setElementStyle(this.el.nativeElement,"position",e),this.renderer.setElementStyle(this.el.nativeElement,"z-index","99999"),this.moving||(this.started.emit(this.el.nativeElement),this.moving=!0)},e.prototype.putBack=function(){this.oldZIndex?this.renderer.setElementStyle(this.el.nativeElement,"z-index",this.oldZIndex):this.el.nativeElement.style.removeProperty("z-index"),this.moving&&(this.stopped.emit(this.el.nativeElement),this.moving=!1,this.oldTrans.x+=this.tempTrans.x,this.oldTrans.y+=this.tempTrans.y,this.tempTrans.x=this.tempTrans.y=0)},e.prototype.onMouseDown=function(e){2==e.button||void 0!==this.handle&&e.target!==this.handle||(this.orignal=this.getPosition(e.clientX,e.clientY),this.pickUp())},e.prototype.onMouseUp=function(){this.putBack()},e.prototype.onMouseLeave=function(){this.putBack()},e.prototype.onMouseMove=function(e){this.moving&&this.allowDrag&&this.moveTo(e.clientX,e.clientY)},e.prototype.onTouchEnd=function(){this.putBack()},e.prototype.onTouchStart=function(e){e.stopPropagation(),e.preventDefault(),void 0!==this.handle&&e.target!==this.handle||(this.orignal=this.getPosition(e.changedTouches[0].clientX,e.changedTouches[0].clientY),this.pickUp())},e.prototype.onTouchMove=function(e){e.stopPropagation(),e.preventDefault(),this.moving&&this.allowDrag&&this.moveTo(e.changedTouches[0].clientX,e.changedTouches[0].clientY)},e}();o([n.i(i.Output)(),r("design:type",Object)],l.prototype,"started",void 0),o([n.i(i.Output)(),r("design:type",Object)],l.prototype,"stopped",void 0),o([n.i(i.Input)(),r("design:type",HTMLElement)],l.prototype,"handle",void 0),o([n.i(i.Input)(),r("design:type",Object),r("design:paramtypes",[Object])],l.prototype,"ngDraggable",null),o([n.i(i.HostListener)("mousedown",["$event"]),r("design:type",Function),r("design:paramtypes",[Object]),r("design:returntype",void 0)],l.prototype,"onMouseDown",null),o([n.i(i.HostListener)("document:mouseup"),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],l.prototype,"onMouseUp",null),o([n.i(i.HostListener)("document:mouseleave"),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],l.prototype,"onMouseLeave",null),o([n.i(i.HostListener)("document:mousemove",["$event"]),r("design:type",Function),r("design:paramtypes",[Object]),r("design:returntype",void 0)],l.prototype,"onMouseMove",null),o([n.i(i.HostListener)("document:touchend"),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],l.prototype,"onTouchEnd",null),o([n.i(i.HostListener)("touchstart",["$event"]),r("design:type",Function),r("design:paramtypes",[Object]),r("design:returntype",void 0)],l.prototype,"onTouchStart",null),o([n.i(i.HostListener)("document:touchmove",["$event"]),r("design:type",Function),r("design:paramtypes",[Object]),r("design:returntype",void 0)],l.prototype,"onTouchMove",null),l=o([n.i(i.Directive)({selector:"[ngDraggable]"}),r("design:paramtypes",[i.ElementRef,i.Renderer])],l)},function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=(n.n(i),n(0));n.d(t,"AngularDraggableDirective",function(){return o.a}),n.d(t,"AngularDraggableModule",function(){return s});var r=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},s=function(){function e(){}return e}();s=r([n.i(i.NgModule)({declarations:[o.a],exports:[o.a]})],s)}])});